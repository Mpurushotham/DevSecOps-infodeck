<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DevSecOps Platform - Complete Security Pipeline Management</title>
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/diagrams.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <i class="fas fa-shield-alt"></i>
                <span>DevSecOps Platform</span>
            </div>
            <ul class="nav-menu">
                <li><a href="#dashboard" class="nav-link"><i class="fas fa-tachometer-alt"></i> Dashboard</a></li>
                <li><a href="#pipeline-builder" class="nav-link"><i class="fas fa-project-diagram"></i> Pipeline Builder</a></li>
                <li><a href="#threat-modeler" class="nav-link"><i class="fas fa-bug"></i> Threat Modeler</a></li>
                <li><a href="#architecture" class="nav-link"><i class="fas fa-sitemap"></i> Architecture</a></li>
                <li><a href="#security-scan" class="nav-link"><i class="fas fa-search"></i> Security Scan</a></li>
            </ul>
            <div class="nav-actions">
                <button class="btn btn-outline" id="export-btn">
                    <i class="fas fa-download"></i> Export
                </button>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Dashboard -->
        <section id="dashboard" class="section active">
            <div class="dashboard-header">
                <h1>DevSecOps Security Dashboard</h1>
                <p>Comprehensive security oversight across your development pipeline</p>
            </div>

            <div class="metrics-grid">
                <div class="metric-card">
                    <div class="metric-header">
                        <h3>Pipeline Security Score</h3>
                        <div class="metric-value">87%</div>
                    </div>
                    <div class="metric-progress">
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 87%"></div>
                        </div>
                    </div>
                    <div class="metric-trend">
                        <i class="fas fa-arrow-up trend-up"></i>
                        <span>+5% from last week</span>
                    </div>
                </div>

                <div class="metric-card">
                    <div class="metric-header">
                        <h3>Critical Vulnerabilities</h3>
                        <div class="metric-value critical">12</div>
                    </div>
                    <div class="metric-details">
                        <div class="vuln-item">
                            <span class="vuln-severity high"></span>
                            <span>SAST Findings</span>
                            <span class="vuln-count">8</span>
                        </div>
                        <div class="vuln-item">
                            <span class="vuln-severity critical"></span>
                            <span>DAST Findings</span>
                            <span class="vuln-count">4</span>
                        </div>
                    </div>
                </div>

                <div class="metric-card">
                    <div class="metric-header">
                        <h3>Compliance Status</h3>
                        <div class="metric-value compliant">92%</div>
                    </div>
                    <div class="compliance-list">
                        <div class="compliance-item compliant">
                            <i class="fas fa-check-circle"></i>
                            <span>OWASP ASVS Level 2</span>
                        </div>
                        <div class="compliance-item warning">
                            <i class="fas fa-exclamation-triangle"></i>
                            <span>NIST 800-53</span>
                        </div>
                        <div class="compliance-item compliant">
                            <i class="fas fa-check-circle"></i>
                            <span>ISO 27001</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="dashboard-grid">
                <!-- Pipeline Visualization -->
                <div class="dashboard-card full-width">
                    <div class="card-header">
                        <h3>DevSecOps Pipeline Visualization</h3>
                        <button class="btn btn-sm" id="edit-pipeline">
                            <i class="fas fa-edit"></i> Customize
                        </button>
                    </div>
                    <div class="pipeline-container" id="pipeline-visual">
                        <!-- Interactive pipeline will be rendered here -->
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="dashboard-card">
                    <div class="card-header">
                        <h3>Quick Actions</h3>
                    </div>
                    <div class="quick-actions">
                        <button class="action-btn" data-action="threat-model">
                            <i class="fas fa-bug"></i>
                            <span>Run Threat Model</span>
                        </button>
                        <button class="action-btn" data-action="security-scan">
                            <i class="fas fa-search"></i>
                            <span>Security Scan</span>
                        </button>
                        <button class="action-btn" data-action="generate-report">
                            <i class="fas fa-chart-bar"></i>
                            <span>Generate Report</span>
                        </button>
                        <button class="action-btn" data-action="compliance-check">
                            <i class="fas fa-clipboard-check"></i>
                            <span>Compliance Check</span>
                        </button>
                    </div>
                </div>

                <!-- Recent Activity -->
                <div class="dashboard-card">
                    <div class="card-header">
                        <h3>Security Events</h3>
                    </div>
                    <div class="activity-feed">
                        <div class="activity-item">
                            <div class="activity-icon critical">
                                <i class="fas fa-exclamation-triangle"></i>
                            </div>
                            <div class="activity-content">
                                <p>Critical vulnerability detected in dependencies</p>
                                <span class="activity-time">2 minutes ago</span>
                            </div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-icon warning">
                                <i class="fas fa-shield-alt"></i>
                            </div>
                            <div class="activity-content">
                                <p>SAST scan completed - 3 high severity issues</p>
                                <span class="activity-time">1 hour ago</span>
                            </div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-icon info">
                                <i class="fas fa-check-circle"></i>
                            </div>
                            <div class="activity-content">
                                <p>Container scan passed security gates</p>
                                <span class="activity-time">3 hours ago</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Pipeline Builder -->
        <section id="pipeline-builder" class="section">
            <div class="section-header">
                <h2>DevSecOps Pipeline Builder</h2>
                <p>Design and customize your secure CI/CD pipeline with integrated security controls</p>
            </div>

            <div class="pipeline-builder-container">
                <div class="pipeline-toolbox">
                    <h4>Security Tools</h4>
                    <div class="tool-category">
                        <h5>SAST Tools</h5>
                        <div class="tool-item" data-tool="sonarqube" draggable="true">
                            <i class="fab fa-dev"></i>
                            <span>SonarQube</span>
                        </div>
                        <div class="tool-item" data-tool="snyk" draggable="true">
                            <i class="fas fa-code"></i>
                            <span>Snyk Code</span>
                        </div>
                    </div>
                    <div class="tool-category">
                        <h5>DAST Tools</h5>
                        <div class="tool-item" data-tool="zap" draggable="true">
                            <i class="fas fa-spider"></i>
                            <span>OWASP ZAP</span>
                        </div>
                    </div>
                    <div class="tool-category">
                        <h5>Container Security</h5>
                        <div class="tool-item" data-tool="trivy" draggable="true">
                            <i class="fas fa-box"></i>
                            <span>Trivy</span>
                        </div>
                    </div>
                </div>

                <div class="pipeline-canvas">
                    <div class="pipeline-stage" data-stage="plan">
                        <div class="stage-header">
                            <h4>1. Plan</h4>
                            <i class="fas fa-project-diagram"></i>
                        </div>
                        <div class="stage-tools" data-stage="plan">
                            <!-- Tools will be dropped here -->
                        </div>
                    </div>

                    <div class="pipeline-connector"></div>

                    <div class="pipeline-stage" data-stage="code">
                        <div class="stage-header">
                            <h4>2. Code</h4>
                            <i class="fas fa-code"></i>
                        </div>
                        <div class="stage-tools" data-stage="code">
                            <div class="tool-item configured" data-tool="pre-commit">
                                <i class="fas fa-shield-alt"></i>
                                <span>Pre-commit Hooks</span>
                                <button class="tool-config"><i class="fas fa-cog"></i></button>
                            </div>
                        </div>
                    </div>

                    <!-- More stages... -->
                </div>

                <div class="pipeline-config">
                    <div class="config-header">
                        <h4>Pipeline Configuration</h4>
                    </div>
                    <div class="config-content">
                        <div class="config-section">
                            <h5>Security Gates</h5>
                            <div class="config-item">
                                <label>
                                    <input type="checkbox" checked>
                                    Block on critical vulnerabilities
                                </label>
                            </div>
                            <div class="config-item">
                                <label>
                                    <input type="checkbox" checked>
                                    Require security review
                                </label>
                            </div>
                        </div>
                        <div class="config-section">
                            <h5>Notifications</h5>
                            <div class="config-item">
                                <label>
                                    <input type="checkbox" checked>
                                    Email on security failures
                                </label>
                            </div>
                        </div>
                    </div>
                    <div class="config-actions">
                        <button class="btn btn-primary" id="generate-pipeline">
                            <i class="fas fa-download"></i> Generate Pipeline Code
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Threat Modeler -->
        <section id="threat-modeler" class="section">
            <div class="section-header">
                <h2>STRIDE Threat Modeler</h2>
                <p>Identify and mitigate security threats across your application architecture</p>
            </div>

            <div class="threat-modeler-container">
                <div class="threat-sidebar">
                    <div class="threat-categories">
                        <div class="threat-category active" data-category="stride">
                            <i class="fas fa-layer-group"></i>
                            <span>STRIDE</span>
                        </div>
                        <div class="threat-category" data-category="dread">
                            <i class="fas fa-chart-line"></i>
                            <span>DREAD</span>
                        </div>
                        <div class="threat-category" data-category="attack-tree">
                            <i class="fas fa-tree"></i>
                            <span>Attack Trees</span>
                        </div>
                    </div>

                    <div class="threat-components">
                        <h5>Application Components</h5>
                        <div class="component-item" data-component="web-server" draggable="true">
                            <i class="fas fa-server"></i>
                            <span>Web Server</span>
                        </div>
                        <div class="component-item" data-component="database" draggable="true">
                            <i class="fas fa-database"></i>
                            <span>Database</span>
                        </div>
                        <div class="component-item" data-component="api" draggable="true">
                            <i class="fas fa-plug"></i>
                            <span>API Gateway</span>
                        </div>
                        <div class="component-item" data-component="auth" draggable="true">
                            <i class="fas fa-user-shield"></i>
                            <span>Auth Service</span>
                        </div>
                    </div>
                </div>

                <div class="threat-canvas">
                    <div class="canvas-tools">
                        <button class="tool-btn" data-tool="select">
                            <i class="fas fa-mouse-pointer"></i>
                        </button>
                        <button class="tool-btn" data-tool="component">
                            <i class="fas fa-square"></i>
                        </button>
                        <button class="tool-btn" data-tool="connection">
                            <i class="fas fa-arrow-right"></i>
                        </button>
                        <button class="tool-btn" data-tool="threat">
                            <i class="fas fa-bug"></i>
                        </button>
                    </div>
                    <div class="canvas-area" id="threat-canvas">
                        <!-- Interactive canvas for threat modeling -->
                    </div>
                </div>

                <div class="threat-details">
                    <div class="details-header">
                        <h4>Threat Analysis</h4>
                    </div>
                    <div class="details-content">
                        <div class="threat-list">
                            <div class="threat-item stride-spoofing">
                                <div class="threat-header">
                                    <span class="threat-type">Spoofing</span>
                                    <span class="threat-risk high">High</span>
                                </div>
                                <p>Authentication bypass in user service</p>
                                <div class="threat-mitigation">
                                    <strong>Mitigation:</strong> Implement MFA, strong session management
                                </div>
                            </div>
                            <div class="threat-item stride-tampering">
                                <div class="threat-header">
                                    <span class="threat-type">Tampering</span>
                                    <span class="threat-risk medium">Medium</span>
                                </div>
                                <p>Data manipulation in API requests</p>
                                <div class="threat-mitigation">
                                    <strong>Mitigation:</strong> Input validation, request signing
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="details-actions">
                        <button class="btn btn-primary" id="generate-threat-report">
                            <i class="fas fa-file-alt"></i> Generate Threat Report
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Architecture Viewer -->
        <section id="architecture" class="section">
            <div class="section-header">
                <h2>Security Architecture Viewer</h2>
                <p>Visualize and analyze your application architecture with security controls</p>
            </div>

            <div class="architecture-container">
                <div class="architecture-controls">
                    <div class="control-group">
                        <h5>Architecture Layers</h5>
                        <div class="layer-controls">
                            <label><input type="checkbox" checked> Application Layer</label>
                            <label><input type="checkbox" checked> Data Layer</label>
                            <label><input type="checkbox" checked> Network Layer</label>
                            <label><input type="checkbox" checked> Infrastructure</label>
                        </div>
                    </div>
                    <div class="control-group">
                        <h5>Security Controls</h5>
                        <div class="security-controls">
                            <label><input type="checkbox" checked> WAF</label>
                            <label><input type="checkbox" checked> Encryption</label>
                            <label><input type="checkbox" checked> IAM</label>
                            <label><input type="checkbox" checked> Monitoring</label>
                        </div>
                    </div>
                </div>

                <div class="architecture-diagram">
                    <div class="mermaid" id="arch-diagram">
                        graph TB
                            subgraph Frontend
                                A[Web Application] --> B[API Gateway]
                            end
                            
                            subgraph Backend
                                B --> C[Auth Service]
                                B --> D[User Service]
                                B --> E[Payment Service]
                            end
                            
                            subgraph Data
                                C --> F[(User DB)]
                                D --> F
                                E --> G[(Payment DB)]
                            end
                            
                            subgraph Security
                                H[WAF] --> A
                                I[IDS/IPS] --> B
                                J[Security Groups] --> C
                                J --> D
                                J --> E
                            end
                            
                            style A fill:#e1f5fe
                            style B fill:#f3e5f5
                            style C fill:#e8f5e8
                            style D fill:#e8f5e8
                            style E fill:#e8f5e8
                            style F fill:#fff3e0
                            style G fill:#fff3e0
                            style H fill:#ffebee
                            style I fill:#ffebee
                            style J fill:#ffebee
                    </div>
                </div>

                <div class="architecture-legend">
                    <h5>Security Controls Legend</h5>
                    <div class="legend-item">
                        <div class="legend-color waf"></div>
                        <span>Web Application Firewall</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color ids"></div>
                        <span>Intrusion Detection</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color auth"></div>
                        <span>Authentication Service</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color data"></div>
                        <span>Data Storage</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Security Scanner -->
        <section id="security-scan" class="section">
            <div class="section-header">
                <h2>Security Vulnerability Scanner</h2>
                <p>Comprehensive security scanning across your codebase and infrastructure</p>
            </div>

            <div class="scanner-container">
                <div class="scanner-controls">
                    <div class="scan-type-selector">
                        <h5>Scan Types</h5>
                        <div class="scan-options">
                            <label class="scan-option active">
                                <input type="radio" name="scan-type" value="sast" checked>
                                <div class="scan-card">
                                    <i class="fas fa-code"></i>
                                    <span>SAST</span>
                                    <small>Static Application Security Testing</small>
                                </div>
                            </label>
                            <label class="scan-option">
                                <input type="radio" name="scan-type" value="dast">
                                <div class="scan-card">
                                    <i class="fas fa-spider"></i>
                                    <span>DAST</span>
                                    <small>Dynamic Application Security Testing</small>
                                </div>
                            </label>
                            <label class="scan-option">
                                <input type="radio" name="scan-type" value="sca">
                                <div class="scan-card">
                                    <i class="fas fa-cubes"></i>
                                    <span>SCA</span>
                                    <small>Software Composition Analysis</small>
                                </div>
                            </label>
                            <label class="scan-option">
                                <input type="radio" name="scan-type" value="container">
                                <div class="scan-card">
                                    <i class="fas fa-box"></i>
                                    <span>Container</span>
                                    <small>Container Image Scanning</small>
                                </div>
                            </label>
                        </div>
                    </div>

                    <div class="scan-config">
                        <h5>Scan Configuration</h5>
                        <div class="config-grid">
                            <div class="config-field">
                                <label>Target Path</label>
                                <input type="text" placeholder="/path/to/your/code" value="./">
                            </div>
                            <div class="config-field">
                                <label>Severity Threshold</label>
                                <select>
                                    <option>Critical & High</option>
                                    <option>Medium & Above</option>
                                    <option>All Issues</option>
                                </select>
                            </div>
                            <div class="config-field">
                                <label>Output Format</label>
                                <select>
                                    <option>SARIF</option>
                                    <option>JSON</option>
                                    <option>HTML</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <button class="btn btn-primary btn-large" id="start-scan">
                        <i class="fas fa-play"></i> Start Security Scan
                    </button>
                </div>

                <div class="scanner-results">
                    <div class="results-header">
                        <h4>Scan Results</h4>
                        <div class="results-summary">
                            <div class="summary-item critical">
                                <span class="summary-count">3</span>
                                <span class="summary-label">Critical</span>
                            </div>
                            <div class="summary-item high">
                                <span class="summary-count">8</span>
                                <span class="summary-label">High</span>
                            </div>
                            <div class="summary-item medium">
                                <span class="summary-count">15</span>
                                <span class="summary-label">Medium</span>
                            </div>
                        </div>
                    </div>

                    <div class="results-list">
                        <div class="vulnerability-item critical">
                            <div class="vuln-header">
                                <span class="vuln-title">SQL Injection in User Authentication</span>
                                <span class="vuln-severity critical">Critical</span>
                            </div>
                            <div class="vuln-details">
                                <div class="vuln-location">
                                    <i class="fas fa-file-code"></i>
                                    <span>src/auth/service.js:127</span>
                                </div>
                                <div class="vuln-description">
                                    Potential SQL injection vulnerability in user login function. User input is directly concatenated into SQL query.
                                </div>
                                <div class="vuln-remediation">
                                    <strong>Remediation:</strong> Use parameterized queries or prepared statements.
                                </div>
                            </div>
                        </div>

                        <div class="vulnerability-item high">
                            <div class="vuln-header">
                                <span class="vuln-title">Hardcoded API Key</span>
                                <span class="vuln-severity high">High</span>
                            </div>
                            <div class="vuln-details">
                                <div class="vuln-location">
                                    <i class="fas fa-file-code"></i>
                                    <span>config/database.js:45</span>
                                </div>
                                <div class="vuln-description">
                                    API key hardcoded in configuration file. This exposes sensitive credentials in source code.
                                </div>
                                <div class="vuln-remediation">
                                    <strong>Remediation:</strong> Move API key to environment variables or secret management system.
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>DevSecOps Platform</h3>
                    <p>Comprehensive security integration for modern development pipelines.</p>
                </div>
                <div class="footer-section">
                    <h4>Resources</h4>
                    <ul>
                        <li><a href="#">OWASP SAMM</a></li>
                        <li><a href="#">NIST Framework</a></li>
                        <li><a href="#">Security Tools</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Connect</h4>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-github"></i></a>
                        <a href="#"><i class="fab fa-linkedin"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 DevSecOps Platform. Built with security in mind.</p>
            </div>
        </div>
    </footer>

    <script src="scripts/app.js"></script>
    <script src="scripts/threat-modeler.js"></script>
    <script src="scripts/pipeline-builder.js"></script>
    <script src="scripts/security-scanner.js"></script>
    <script src="scripts/architecture-viewer.js"></script>
</body>
</html>
